/*
 * App Global CSS
 * ----------------------------------------------------------------------------
 * 1. IMPORTS & FONTS
 * ----------------------------------------------------------------------------
 */
@import "@ionic/angular/css/core.css";
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* Font Family Global (Opsional: Bisa ganti Poppins/Roboto jika sudah install) */
:root {
  --ion-font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
}

/*
 * 2. TEMA WARNA & GRADIENT (LOGIC GANTI TEMA)
 * ----------------------------------------------------------------------------
 */
/* Default (Blue) */
body[color-theme="blue"] { --ion-color-primary: #3880ff; --header-gradient: linear-gradient(135deg, #3880ff, #5260ff); }
body[color-theme="purple"] { --ion-color-primary: #7044ff; --header-gradient: linear-gradient(135deg, #7044ff, #b544ff); }
body[color-theme="orange"] { --ion-color-primary: #ffc409; --header-gradient: linear-gradient(135deg, #ffc409, #ff7852); }
body[color-theme="red"] { --ion-color-primary: #eb445a; --header-gradient: linear-gradient(135deg, #eb445a, #ff4961); }
body[color-theme="green"] { --ion-color-primary: #2dd36f; --header-gradient: linear-gradient(135deg, #2dd36f, #28ba62); }

.header-gradient, 
ion-toolbar.header-gradient {
  --background: var(--header-gradient) !important;
  background: var(--header-gradient) !important;
  --color: white;
  color: white;
  
  ion-title, ion-icon, ion-back-button, ion-menu-button { color: white !important; }
}

/* 2. KHUSUS TOMBOL (Agar tidak kotak di belakangnya) */
ion-button.header-gradient {
  /* Pembungkus luar transparan */
  --background: var(--header-gradient) !important;
  background: transparent !important; 
  
  /* Text putih */
  --color: white !important;
  color: white !important;
  
  /* Shadow halus */
  box-shadow: 0 4px 10px rgba(var(--ion-color-primary-rgb), 0.3);
}

/*
 * 3. GLOBAL CARDS (Untuk News List, Search, Favorites)
 * ----------------------------------------------------------------------------
 */
.news-card {
  margin: 15px;
  border-radius: 16px; /* Sudut membulat */
  box-shadow: 0 8px 20px rgba(0,0,0,0.08); /* Bayangan lembut */
  background: var(--ion-card-background, #fff);
  transition: transform 0.2s;
  overflow: hidden;

  /* Efek pencet */
  &:active { transform: scale(0.98); }

  /* Gambar di dalam card */
  .card-img-wrapper {
    width: 100%;
    height: 180px; /* Tinggi seragam */
    position: relative;
    
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }

  ion-card-header {
    padding: 12px 16px;
  }

  ion-card-subtitle {
    font-size: 12px;
    font-weight: 600;
    color: var(--ion-color-primary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  ion-card-title {
    font-size: 18px;
    font-weight: 800;
    line-height: 1.3;
    color: var(--ion-text-color);
  }
}

/*
 * 4. GLOBAL FORMS (Login, Register, Create News)
 * ----------------------------------------------------------------------------
 */
.form-wrapper {
  padding: 10px;
}

.custom-input {
  --background: var(--ion-item-background, #f4f5f8);
  --padding-start: 15px;
  --padding-end: 15px;
  --border-radius: 10px;
  margin-bottom: 15px;
  box-shadow: none;
  
  /* Hilangkan garis bawah default Ionic */
  --highlight-height: 0; 
  
  ion-input, ion-textarea, ion-select {
    --padding-top: 10px;
    --padding-bottom: 10px;
  }
}

/* Tombol Submit Besar */
.btn-submit {
  margin-top: 20px;
  --border-radius: 10px;
  --box-shadow: 0 4px 10px rgba(var(--ion-color-primary-rgb), 0.4);
  font-weight: bold;
  letter-spacing: 0.5px;
  height: 50px;
}

/*
 * 5. GLOBAL EMPTY STATE (Saat data kosong)
 * ----------------------------------------------------------------------------
 */
.empty-state {
  height: 60vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
  
  ion-icon {
    font-size: 80px;
    margin-bottom: 20px;
    color: var(--ion-color-step-300, #e0e0e0);
    opacity: 0.8;
  }

  h3 {
    margin: 0;
    font-weight: 700;
    font-size: 20px;
    color: var(--ion-text-color);
    margin-bottom: 8px;
  }

  p {
    margin: 0;
    font-size: 14px;
    color: var(--ion-color-medium);
    max-width: 80%;
    line-height: 1.5;
  }
}

body.dark {
  /* 1. Background & Text Utama */
  --ion-background-color: #121212;
  --ion-background-color-rgb: 18,18,18;

  --ion-text-color: #ffffff;
  --ion-text-color-rgb: 255,255,255;

  /* 2. Warna Item / Card / List */
  --ion-item-background: #1e1e1e;
  --ion-card-background: #1e1e1e;

  /* 3. Warna Step (Variasi abu-abu) */
  --ion-color-step-50: #1e1e1e;
  --ion-color-step-100: #2a2a2a;
  --ion-color-step-150: #363636;
  --ion-color-step-200: #414141;
  --ion-color-step-250: #4d4d4d;
  --ion-color-step-300: #595959;
  --ion-color-step-350: #656565;
  --ion-color-step-400: #717171;
  --ion-color-step-450: #7d7d7d;
  --ion-color-step-500: #898989;
  --ion-color-step-550: #949494;
  --ion-color-step-600: #a0a0a0;
  --ion-color-step-650: #acacac;
  --ion-color-step-700: #b8b8b8;
  --ion-color-step-750: #c4c4c4;
  --ion-color-step-800: #d0d0d0;
  --ion-color-step-850: #dbdbdb;
  --ion-color-step-900: #e7e7e7;
  --ion-color-step-950: #f3f3f3;

  /* 4. Toolbar Header */
  --ion-toolbar-background: #1e1e1e;
  --ion-toolbar-color: #ffffff;

  /* 5. OVERRIDE CUSTOM CLASSES UTK DARK MODE */
  
  /* Input Custom Global */
  .custom-input {
    --background: #2c2c2c !important; 
    ion-icon { color: #aaaaaa !important; }
  }

  /* Menu Box (Home) */
  .menu-box {
    background: #1e1e1e !important;
    box-shadow: 0 4px 15px rgba(255,255,255,0.05) !important;
  }

  /* News Card */
  .news-card {
    background: #1e1e1e !important;
    --background: #1e1e1e !important;
    
    ion-card-title { color: #ffffff !important; }
    ion-card-subtitle { color: var(--ion-color-primary) !important; }
  }

  /* -------------------------------------------
   * 6. FIX DETAIL PAGE (MASALAH RATING & INPUT)
   * ------------------------------------------- */
  
  /* Badge/Pill Statistik (Views & Rating) */
  .stat-pill {
    background: #2c2c2c !important; /* Ubah background putih jadi abu gelap */
    color: #ffffff !important;      /* Teks jadi putih */
    border: 1px solid #444444;      /* Tambah border tipis */
  }

  /* Area Footer Komentar */
  .comment-toolbar {
    --background: #1e1e1e !important;
  }

  /* Kotak Input Komentar */
  .input-row {
    background: #2c2c2c !important; /* Background input gelap */
    border: 1px solid #444444;      /* Border gelap */
  }

  /* Teks Input Komentar */
  .comment-input {
    --color: #ffffff !important;            /* Teks ketikan putih */
    --placeholder-color: #888888 !important; /* Placeholder abu-abu */
    color: #ffffff !important;
  }

  // Dark mode refresher
  ion-refresher {
    background-color: #121212 !important; 
  }
  
  ion-refresher-content {
    --color: #ffffff !important;
  }
}

/* * 7. ANIMASI HALUS (Soft Transition)
 * Membuat setiap halaman muncul dengan efek fade-in halus 
 * agar perpindahan Tab tidak terasa kaku.
 */

ion-router-outlet ion-content {
  animation: page-fade-in 1.8s cubic-bezier(0.165, 0.84, 0.44, 1);
}

@keyframes page-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px); /* Muncul sedikit dari bawah */
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/*
 * 8. GLOBAL REFRESHER STYLES (Light Mode / Default)
 * ----------------------------------------------------------------------------
 */
/* 1. CONTAINER UTAMA */
ion-refresher {
  z-index: 999;
  width: 100% !important; /* WAJIB: Paksa lebar penuh */
  height: auto !important;
  background-color: #ffffff; /* Background Putih (Light Mode) */
}

/* 2. KONTEN PEMBUNGKUS */
ion-refresher-content {
  width: 100% !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  
  /* Warna Default (Light Mode) */
  --color: var(--ion-color-primary);
  
  /* * KUNCI UTAMA: 
   * Target elemen internal Ionic (.refresher-pulling & .refresher-refreshing)
   * Ini adalah elemen div asli yang membungkus ikon/spinner
   */
  .refresher-pulling,
  .refresher-refreshing {
    width: 100% !important;
    display: flex !important;       /* Gunakan Flexbox */
    flex-direction: column !important; /* Susun Atas-Bawah */
    align-items: center !important;    /* Tengah Horizontal */
    justify-content: center !important;/* Tengah Vertikal */
    text-align: center !important;
  }

  /* Ukuran Icon */
  .refresher-pulling-icon,
  .refresher-refreshing-icon {
    font-size: 30px;
    width: 30px;
    height: 30px;
    margin-top: 8px;
    margin-bottom: 8px; /* Jarak antara icon & teks */
    margin-left: auto !important;  /* Paksa margin kiri otomatis */
    margin-right: auto !important; /* Paksa margin kanan otomatis */
  }

  /* Ukuran Teks */
  .refresher-pulling-text,
  .refresher-refreshing-text {
    font-size: 14px;
    font-weight: 500;
    text-align: center !important;
    width: 100% !important;
    height: auto !important;
  }
}

/*
 * 9. GLOBAL TOAST STYLING (Agar sesuai tema & rounded)
 * ----------------------------------------------------------------------------
 */
ion-toast {
  /* 1. Samakan sudut membulat dengan Button & Input (10px - 12px) */
  --border-radius: 12px !important;
  
  /* 2. Berikan shadow biar terlihat melayang ("Floating") */
  --box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15) !important;
  
  /* 4. Font Styling */
  font-weight: 500;
  text-align: center;
}